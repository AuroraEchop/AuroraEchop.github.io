<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<p>![[Pasted image 20250611163154.png]]<br>![[Pasted image 20250611172359.png]]<br>![[Pasted image 20250611173207.png]]</p><h4 id="简答题"><a href="#简答题" class="headerlink" title="简答题"></a>简答题</h4><p>![[Pasted image 20250611183536.png]]<br>![[Pasted image 20250611183520.png]]![[Pasted image 20250611183653.png]]<br>![[Pasted image 20250611183733.png]]</p><p>![[Pasted image 20250611192340.png]]</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<p>![[Pasted image 20250611234709.png]]</p><h4 id="第二章-物理层"><a href="#第二章-物理层" class="headerlink" title="第二章 物理层"></a>第二章 物理层</h4><p>![[Pasted image 20250611223900.png]]<br>![[Pasted image 20250611225024.png]]<br>![[Pasted image 20250611225257.png]]<br>考点：判断是否具有自同步（不归零制不具有）其他都具有时钟信号<br>![[Pasted image 20250611225515.png]]<br>![[Pasted image 20250611225813.png]]<br>![[Pasted image 20250611230023.png]]<br>![[Pasted image 20250611230357.png]]<br>![[Pasted image 20250611230600.png]]<br>![[Pasted image 20250611230631.png]]<br>![[Pasted image 20250611230644.png]]<br>![[Pasted image 20250611230755.png]]</p><h4 id="第三章-数据链路层"><a href="#第三章-数据链路层" class="headerlink" title="第三章 数据链路层"></a>第三章 数据链路层</h4><p>![[Pasted image 20250611231018.png]]![[Pasted image 20250611231055.png]]<br>![[Pasted image 20250611231106.png]]![[Pasted image 20250611231132.png]]<br>![[Pasted image 20250611231307.png]]![[Pasted image 20250611231508.png]]![[Pasted image 20250611231602.png]]这里发送数据是待发送数据＋循环冗余检验后得到的余数即（相除使用异或运算）<br>101001+001（三位，因为多项式最高项为3）<br>![[Pasted image 20250611231913.png]]<br>![[Pasted image 20250611233142.png]]![[Pasted image 20250611233225.png]]![[Pasted image 20250611233622.png]]<br>用于通信双方进行帧同步的是 PPP点对点协议<br>![[Pasted image 20250611233706.png]]<br>【简答】重要冲突检测的工作方法<br>![[Pasted image 20250611233812.png]]<br>![[Pasted image 20250611234003.png]]物理地址长度为48位(MAC)<br>![[Pasted image 20250611234755.png]]</p><h4 id="第四章-网络层"><a href="#第四章-网络层" class="headerlink" title="第四章 网络层"></a>第四章 网络层</h4><p>![[Pasted image 20250611160342.png]]<br>![[Pasted image 20250612000442.png]]<br>![[Pasted image 20250612000522.png]]<br>![[Pasted image 20250611160520.png]]<br>![[Pasted image 20250611192345.png]]<br>![[Pasted image 20250611224758.png]]<br>![[Pasted image 20250611224840.png]]<br>![[Pasted image 20250611224737.png]]</p><h4 id="第五章-运输层"><a href="#第五章-运输层" class="headerlink" title="第五章 运输层"></a>第五章 运输层</h4><p>![[Pasted image 20250612095945.png]]</p><p>![[Pasted image 20250611211252.png]]<br>![[Pasted image 20250611211540.png]]![[Pasted image 20250611211621.png]]![[Pasted image 20250611211832.png]]<br>![[Pasted image 20250611212247.png]]![[Pasted image 20250611212620.png]]通过连续发送多组数据，然后确认的时候只返回一个确认信号，所以结果返回最后期待的下一个分组</p><p>![[Pasted image 20250611214332.png]]![[Pasted image 20250611222401.png]]<br>![[Pasted image 20250611235405.png]]</p><h4 id="第六章-应用层"><a href="#第六章-应用层" class="headerlink" title="第六章 应用层"></a>第六章 应用层</h4><p>![[Pasted image 20250611223430.png]]<br>![[Pasted image 20250611223527.png]]</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<p>![[Pasted image 20250609231258.png]]</p><p>![[Pasted image 20250609231916.png]]</p><p>![[Pasted image 20250610094046.png]]</p><h4 id="SR锁存器"><a href="#SR锁存器" class="headerlink" title="SR锁存器"></a>SR锁存器</h4><p>![[Pasted image 20250610101913.png]]</p><h4 id="JK触发器"><a href="#JK触发器" class="headerlink" title="JK触发器"></a>JK触发器</h4><p>![[Pasted image 20250610102546.png]]</p><p>![[Pasted image 20250610102938.png]]</p><p>![[Pasted image 20250610103250.png]]</p><h4 id="同步计数器（JK实现）"><a href="#同步计数器（JK实现）" class="headerlink" title="同步计数器（JK实现）"></a>同步计数器（JK实现）</h4><p>![[Pasted image 20250610112235.png]]</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<h4 id="DML数据操作语言"><a href="#DML数据操作语言" class="headerlink" title="DML数据操作语言"></a>DML数据操作语言</h4><p>插入<br>![[Pasted image 20250609134624.png]]</p><p>删除<br>![[Pasted image 20250609134644.png]]<br>![[Pasted image 20250609134714.png]]</p><p>更新<br>![[Pasted image 20250609134817.png]]<br>三个同时进行（事务操作）<br>![[Pasted image 20250609134918.png]]<br>开始 begin transaction<br>结束 commit</p><p>授权<br>grant … on …<br>![[Pasted image 20250609135432.png]]</p><h4 id="DDL数据定义语言"><a href="#DDL数据定义语言" class="headerlink" title="DDL数据定义语言"></a>DDL数据定义语言</h4><p>![[Pasted image 20250609140300.png]]<br>![[Pasted image 20250609140252.png]]<br>cruster、unique、</p><p>修改<br>![[Pasted image 20250609140328.png]]<br>![[Pasted image 20250609140832.png]]</p><p>删除<br>![[Pasted image 20250609140441.png]]<br>![[Pasted image 20250609140500.png]]</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<p>![[Pasted image 20250609100356.png]]</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<p>画图和转换成关系模式<br>![[Pasted image 20250608203213.png]]</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<h4 id="1-函数依赖"><a href="#1-函数依赖" class="headerlink" title="1.函数依赖"></a>1.函数依赖</h4><p>![[Pasted image 20250608160751.png]]</p><h4 id="2-码——重要：求候选码方法"><a href="#2-码——重要：求候选码方法" class="headerlink" title="2.码——重要：求候选码方法"></a>2.码——重要：求候选码方法</h4><p>![[Pasted image 20250608160938.png]]</p><p>过程：<br>①先找一定是候选码的属性是否能通过关系推断出其他所有的属性<br>如果能推出来，那么是候选码<br>如果不能推出来，那么还需要其他属性构成候选码。</p><p>②在一定是候选码属性中，添加可能是候选码的属性，<br>添加一个，判断能否通过关系推出所有属性：<br>如果可以就是一个候选码（候选码可能不止一个）<br>如果不可以就换<br>添加一个不行，就添加两个属性，直到能推出所有候选码为止</p><p>查找过程：通过不断的推断（传递），一直往下推导，直到没有属性更新</p><p>![[Pasted image 20250608162236.png]]</p><h4 id="3-范式"><a href="#3-范式" class="headerlink" title="3.范式"></a>3.范式</h4><p>![[Pasted image 20250608163127.png]]</p><p>![[Pasted image 20250608163603.png]]</p><h4 id="4-最小函数依赖集"><a href="#4-最小函数依赖集" class="headerlink" title="4.最小函数依赖集"></a>4.最小函数依赖集</h4><p>![[Pasted image 20250608184214.png]]</p><p>![[Pasted image 20250608231554.png]]</p><p>![[Pasted image 20250608231806.png]]</p><p>没有给出子关系模式判断是否无损链接，选择题通常只需要看公共属性是否能通过关系集推出所有属性，（闭包为U）<br>以上选择和大题不同的点是：选择题已经分号组通过公共属性验证；大题没有分组，通过最小函数依赖集确定分组，！！他们是互逆的过程<br>![[Pasted image 20250609000215.png]]<br>![[Pasted image 20250608233332.png]]</p><h4 id="常见题型"><a href="#常见题型" class="headerlink" title="常见题型"></a>常见题型</h4><ol><li>求候选码</li><li>判断满足第几范式</li><li>求最小函数依赖集</li><li>分解成3NF范式，并且保证无损链接</li><li>（左部相同原则分组，包括主候选码，没在最小函数依赖集中出现的属性共同构成一个分组）</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-概述：教育城域网项目的社会意义"><a href="#1-概述：教育城域网项目的社会意义" class="headerlink" title="1 概述：教育城域网项目的社会意义"></a>1 概述：教育城域网项目的社会意义</h2><p>教育城域网作为<strong>教育新型基础设施</strong>的核心组成部分，正在成为推动教育数字化转型的关键载体。这类项目通过构建覆盖区域内的<strong>统一教育网络</strong>，整合海量教育资源，实现教学应用的互联互通，为“互联网+教育”提供坚实的底层支撑。在政策推动与技术演进的双重作用下，我国教育城域网建设已从基础连通阶段迈向高质量创新发展阶段，其社会价值与影响日益凸显。</p><p>重庆“一张网”工程是近年来区域教育数字化转型的<strong>典型案例</strong>。该项目以“集约高效、结构优化、安全可靠”为准则，通过建设市级教育专网、升级区县城域网、实施全光校园网三层体系，解决了资源分散、应用激增和安全防护等核心问题。这一项目不仅具有<strong>技术示范价值</strong>，更在社会层面产生了深远影响——它改变了传统教育资源配置方式，重塑了师生教与学的行为模式，并对教育公平、网络安全、隐私保护及数字伦理提出了新的课题。</p><p>本研究以重庆教育城域网项目为实证对象，系统分析网络工程项目在实施过程中的<strong>社会化影响维度</strong>与<strong>责任担当框架</strong>，旨在为类似项目提供技术实施与社会责任协同推进的参考范式。通过政策解读、影响评估、案例验证等方法，全面审视教育网络工程这一复杂系统的社会技术特征，为教育高质量发展提供兼具技术先进性和社会适应性的解决方案。</p><h2 id="2-教育城域网领域的政策与法规环境"><a href="#2-教育城域网领域的政策与法规环境" class="headerlink" title="2 教育城域网领域的政策与法规环境"></a>2 教育城域网领域的政策与法规环境</h2><p>教育城域网作为教育信息化的核心基础设施，其规划、建设与运营受到多层次政策法规体系的引导和约束，这些制度安排共同构成了项目实施的外部环境框架。</p><h3 id="2-1-教育新基建政策体系"><a href="#2-1-教育新基建政策体系" class="headerlink" title="2.1 教育新基建政策体系"></a>2.1 教育新基建政策体系</h3><ul><li><p><strong>国家战略规划</strong>：2021年教育部等六部门《关于推进教育新型基础设施建设构建高质量教育支撑体系的指导意见》明确提出：到2025年基本形成“<strong>结构优化、集约高效、安全可靠</strong>”的教育新型基础设施体系。该文件将教育专网建设列为重点任务，要求加强国家主干网、省市教育网和学校校园网的衔接，实现网络地址、域名和用户的统一管理。</p></li><li><p><strong>地方实施路径</strong>：重庆市在“数字重庆”建设规划中提出建设“<strong>算力存储‘一朵云’、通信传输‘一张网’、数据要素‘一组库’、数字资源‘一本账’</strong>”的目标。这一顶层设计有效避免了重复建设和资源分散，为教育城域网建设提供了明确的实施路径和资源保障。</p></li></ul><h3 id="2-2-数据安全与隐私保护法规"><a href="#2-2-数据安全与隐私保护法规" class="headerlink" title="2.2 数据安全与隐私保护法规"></a>2.2 数据安全与隐私保护法规</h3><ul><li><p><strong>网络安全等级保护</strong>：教育城域网需严格遵循《网络安全法》及<strong>等保2.0标准</strong>，建立多层防御体系，保障教育数据全生命周期安全。</p></li><li><p><strong>个人信息处理规范</strong>：项目需遵循《个人信息保护法》关于敏感个人信息处理的特别规定，尤其关注<strong>未成年人信息保护</strong>，在收集使用学生数据时必须获得监护人明示同意，并采取去标识化等安全措施。</p></li></ul><h3 id="2-3-行业自律与标准化建设"><a href="#2-3-行业自律与标准化建设" class="headerlink" title="2.3 行业自律与标准化建设"></a>2.3 行业自律与标准化建设</h3><ul><li><p><strong>行业自律机制</strong>：中国网络社会组织联合会在线教育专业委员会于2021年成立，致力于制定行业规范，引导企业加强自律，推动在线教育健康规范发展。该委员会制定的《网络教育行业自律公约》为教育网络服务提供了<strong>伦理准则</strong>和<strong>行为规范</strong>。</p></li><li><p><strong>技术标准体系</strong>：教育城域网实施需符合国家和行业技术标准，如《教育城域网建设指南》《数字校园建设规范》等，确保网络架构、数据接口、应用集成的<strong>标准化</strong>和<strong>互操作性</strong>。</p></li></ul><p><em>表：教育城域网项目的主要政策法规框架</em></p><table><thead><tr><th><strong>层级</strong></th><th><strong>政策类型</strong></th><th><strong>代表性文件&#x2F;机构</strong></th><th><strong>核心要求</strong></th></tr></thead><tbody><tr><td><strong>国家层面</strong></td><td>战略规划</td><td>教育新基建指导意见(2021)</td><td>2025年建成集约高效教育基础设施体系</td></tr><tr><td><strong>地方层面</strong></td><td>实施规划</td><td>数字重庆建设规划</td><td>“四个一”工程建设目标</td></tr><tr><td><strong>法律层面</strong></td><td>强制规范</td><td>网络安全法、个人信息保护法</td><td>网络安全等级保护2.0要求</td></tr><tr><td><strong>行业层面</strong></td><td>自律规范</td><td>在线教育专业委员会公约</td><td>企业自律与用户权益保障</td></tr></tbody></table><h2 id="3-教育城域网项目的社会化影响多维分析"><a href="#3-教育城域网项目的社会化影响多维分析" class="headerlink" title="3 教育城域网项目的社会化影响多维分析"></a>3 教育城域网项目的社会化影响多维分析</h2><p>教育城域网作为复杂的社会技术系统，其建设和运营对社会多个领域产生深远影响，需要从多维度进行系统评估。</p><h3 id="3-1-社会公平与数字鸿沟影响"><a href="#3-1-社会公平与数字鸿沟影响" class="headerlink" title="3.1 社会公平与数字鸿沟影响"></a>3.1 社会公平与数字鸿沟影响</h3><ul><li><p><strong>资源均衡配置</strong>：教育城域网通过整合区域内的<strong>优质数字资源</strong>，使农村学校能够共享城市名校的课程和教学资源，理论上有效缓解了教育资源配置不均衡问题。重庆项目通过市级教育专网连接38个区县，使69所高校和继续教育机构资源得以共享。然而在实际运行中，<strong>数字鸿沟</strong>现象依然存在——农村地区网络终端设备不足、教师信息技术应用能力薄弱等因素仍制约着资源共享的实际效果。</p></li><li><p><strong>特殊群体覆盖</strong>：项目设计需特别关注<strong>残障学生</strong>、<strong>经济困难家庭</strong>等群体的接入能力。重庆在实施方案中包含为偏远学校提供带宽保障的条款，确保最低限度的网络服务质量。研究表明，当网络覆盖率达到75%以上时，对区域教育公平的促进作用开始显著显现。</p></li></ul><h3 id="3-2-健康与安全影响"><a href="#3-2-健康与安全影响" class="headerlink" title="3.2 健康与安全影响"></a>3.2 健康与安全影响</h3><ul><li><p><strong>用眼健康管理</strong>：大规模在线教学增加了学生的<strong>屏幕暴露时间</strong>，可能引发视力下降、颈椎问题等健康风险。重庆部分学校在网络课程设计中引入“20-20-20”规则（每20分钟课提醒学生注视20英尺外物体20秒），并在平台中集成用眼健康提醒功能。</p></li><li><p><strong>网络安全防护</strong>：教育城域网面临多重安全挑战：</p></li></ul><p>   - <strong>内容安全</strong>：需部署<strong>内容过滤系统</strong>，阻断不良信息访问，保障学生绿色上网环境。</p><p>  - <strong>数据安全</strong>：集中化的教育数据平台成为黑客攻击的高价值目标，重庆项目采用“<strong>安全资源池</strong>”方案，实现威胁情报共享和协同防御。</p><p>  - <strong>隐私泄露风险</strong>：学生位置、学习行为等敏感数据的采集需建立严格的<strong>访问控制机制</strong>，重庆项目中通过“统一身份管理中心”实现权限精细化管控。</p><h3 id="3-3-法律合规与文化影响"><a href="#3-3-法律合规与文化影响" class="headerlink" title="3.3 法律合规与文化影响"></a>3.3 法律合规与文化影响</h3><ul><li><p><strong>版权合规挑战</strong>：资源平台整合大量教学视频、课件和习题库，面临复杂的<strong>著作权清理</strong>问题。重庆项目建立了资源审核机制，要求所有上传资源进行版权声明，对未明确权属的资源限制在内部网络使用。</p></li><li><p><strong>教学文化变革</strong>：网络工程深刻改变了传统教学文化：</p></li></ul><p>  - <strong>教师角色转变</strong>：从知识传授者变为学习引导者，要求教师具备更强的课程设计和信息技术整合能力。</p><p>  - <strong>学习方式革新</strong>：催生了“<strong>泛在学习</strong>”、“<strong>混合式学习</strong>”等新型模式，学生自主学习能力变得至关重要。研究表明，81.43%的学生认为互联网学习是必要的，但<strong>自控力</strong>成为关键挑战。</p><p>  - <strong>评价体系重构</strong>：学习过程数据化为多维度评价提供可能，但也带来“数据主义”风险——过度量化可能导致教育功利化倾向。</p><p><em>表：教育城域网项目的社会化影响特征分析</em></p><table><thead><tr><th><strong>影响维度</strong></th><th><strong>积极影响</strong></th><th><strong>消极影响</strong></th><th><strong>典型案例&#x2F;表现</strong></th></tr></thead><tbody><tr><td><strong>社会公平</strong></td><td>资源共享缩小城乡差距</td><td>数字鸿沟依然存在</td><td>重庆38个区县资源共享平台</td></tr><tr><td><strong>健康管理</strong></td><td>灵活学习减轻负担</td><td>视力健康风险增加</td><td>课程时长控制与健康提醒</td></tr><tr><td><strong>网络安全</strong></td><td>集中防护提升效率</td><td>数据泄露风险加剧</td><td>统一安全资源池部署</td></tr><tr><td><strong>教学文化</strong></td><td>创新教学模式</td><td>师生互动弱化可能</td><td>翻转课堂应用增加</td></tr></tbody></table><h2 id="4-教育城域网项目的社会责任体系"><a href="#4-教育城域网项目的社会责任体系" class="headerlink" title="4 教育城域网项目的社会责任体系"></a>4 教育城域网项目的社会责任体系</h2><p>面对多元化的社会化影响，教育城域网项目实施主体需构建多层次的社会责任体系，以平衡技术效率与社会价值。</p><h3 id="4-1-均衡化发展责任"><a href="#4-1-均衡化发展责任" class="headerlink" title="4.1 均衡化发展责任"></a>4.1 均衡化发展责任</h3><ul><li><p><strong>基础设施公平配置</strong>：项目规划需<strong>优先保障资源薄弱地区</strong>的网络接入能力，重庆在二期建设中专门增加偏远区县的边缘节点部署，确保网络服务的<strong>可及性</strong>和<strong>可用性</strong>。项目实施过程中应建立<strong>区域均衡评估机制</strong>，避免出现“数字洼地”。</p></li><li><p><strong>能力建设协同推进</strong>：单纯的基础设施投入无法实现真正的教育公平，需同步实施<strong>教师数字素养提升计划</strong>。研究表明，农村教师信息化教学规划和执行能力不足是制约教育信息化成效的关键因素。重庆项目配套开展“区县教育信息化骨干培训计划”，形成“<strong>网络+人才</strong>”的协同投入模式。</p></li></ul><h3 id="4-2-安全与隐私保护责任"><a href="#4-2-安全与隐私保护责任" class="headerlink" title="4.2 安全与隐私保护责任"></a>4.2 安全与隐私保护责任</h3><ul><li><p><strong>防御体系全域覆盖</strong>：项目建设方需构建“<strong>云网端一体</strong>”的安全防护体系，重庆教育专网采用“全局安全”策略，实现从骨干网到校园网的多层次防护。在安全管理机制上，需明确<strong>责任边界</strong>——教育行政部门负责策略制定，学校落实终端防护，技术供应商保障平台安全。</p></li><li><p><strong>隐私合规设计</strong>：项目应实施“<strong>Privacy by Design</strong>”原则，将隐私保护融入系统设计全流程。重庆项目通过“身份管理中心”实现<strong>最小权限访问控制</strong>，学生敏感数据采用加密存储和传输，日志保留时间不超过教学管理必要期限。</p></li></ul><h3 id="4-3-教育伦理责任"><a href="#4-3-教育伦理责任" class="headerlink" title="4.3 教育伦理责任"></a>4.3 教育伦理责任</h3><ul><li><p><strong>技术应用边界管理</strong>：教育网络工程应避免“<strong>技术决定论</strong>”倾向，坚守教育本质使命。项目需建立<strong>伦理审查机制</strong>，对AI监控、学习行为分析等敏感应用进行伦理评估，防止出现“数据监控”替代教育关怀的现象。</p></li><li><p><strong>促进人文交流</strong>：网络工程实施需平衡“人机互动”与“人际互动”的关系，重庆部分学校在网络平台设计中保留“面对面辅导预约”功能，确保<strong>技术应用不削弱师生情感联结</strong>。研究表明，过度依赖在线交流可能导致学生社交能力发展的不足。</p></li></ul><h3 id="4-4-可持续发展责任"><a href="#4-4-可持续发展责任" class="headerlink" title="4.4 可持续发展责任"></a>4.4 可持续发展责任</h3><ul><li><p><strong>绿色低碳运维</strong>：项目需采用<strong>节能技术</strong>降低碳排放，重庆在全光网改造中使用无源分光器替代传统有源设备，不仅减少了故障点，还显著降低了电力消耗和维护成本。设备选型应优先考虑高能效产品，数据中心建设采用自然冷却等绿色技术。</p></li><li><p><strong>产教融合创新</strong>：教育网络工程应成为<strong>人才培养与产业需求对接的桥梁</strong>。优路教育与高校合作开展的“基于案例与翻转课堂融合的教学模式探索”项目，体现了网络平台支撑产教融合的实践价值。这种模式既增强了教育的实践导向，又促进了区域产业竞争力提升。</p></li></ul><h2 id="5-网络工程师的职业规范与伦理要求"><a href="#5-网络工程师的职业规范与伦理要求" class="headerlink" title="5 网络工程师的职业规范与伦理要求"></a>5 网络工程师的职业规范与伦理要求</h2><p>在教育城域网这类具有重大社会影响的工程项目中，网络工程师的角色已超越纯技术范畴，其职业行为需遵循严格的伦理准则和社会责任要求。</p><h3 id="5-1-公众安全与健康保障责任"><a href="#5-1-公众安全与健康保障责任" class="headerlink" title="5.1 公众安全与健康保障责任"></a>5.1 公众安全与健康保障责任</h3><ul><li><p><strong>安全优先设计原则</strong>：工程师在系统架构设计阶段需将<strong>安全性</strong>作为首要考量，实施纵深防御策略。重庆教育专网建设中，网络工程师创新性地将<strong>SDN+SRv6技术</strong>应用于业务隔离，确保核心考试系统不受其他业务流量干扰。在设备选型中，应拒绝使用存在已知安全漏洞的组件，即使其成本更低或性能更优。</p></li><li><p><strong>健康影响评估</strong>：工程师需关注技术方案对学生健康的潜在影响，在无线网络部署中，应科学规划AP点位，控制<strong>电磁辐射强度</strong>在安全范围内；在教室网络设计中，考虑布线方案对室内采光和通风的影响，避免因设备安装导致学习环境恶化。</p></li></ul><h3 id="5-2-环境保护与可持续运维"><a href="#5-2-环境保护与可持续运维" class="headerlink" title="5.2 环境保护与可持续运维"></a>5.2 环境保护与可持续运维</h3><ul><li><p><strong>绿色技术应用</strong>：网络工程师有责任选择<strong>环境友好型解决方案</strong>，重庆全光网项目采用“<strong>彩光方案</strong>”，通过波分复用技术最大化利用有限光纤资源，减少线缆敷设量。在数据中心设计中，优先考虑自然冷却、模块化UPS等节能技术，降低PUE值。</p></li><li><p><strong>设备全生命周期管理</strong>：工程师需考虑设备“<strong>从摇篮到坟墓</strong>”的环境影响，在采购合同中明确旧设备回收条款，确保含铅、汞等有害物质的网络设备得到专业处理。重庆项目在设备更新过程中，建立了淘汰设备在教育机构内部的循环利用机制，延长设备使用寿命。</p></li></ul><h3 id="5-3-职业伦理与行为规范"><a href="#5-3-职业伦理与行为规范" class="headerlink" title="5.3 职业伦理与行为规范"></a>5.3 职业伦理与行为规范</h3><ul><li><p><strong>技术中立与责任意识</strong>：工程师应保持<strong>技术中立性</strong>，拒绝设计用于过度监控学生行为的系统，即使委托方有此类需求。当技术方案存在伦理争议时，应坚持职业判断并行使“<strong>良心拒绝</strong>”权利。</p></li><li><p><strong>能力持续提升</strong>：面对教育信息化的快速发展，工程师需不断更新知识体系，尤其要加强对<strong>教育规律</strong>的理解。重庆项目团队在实施前专门开展教育业务培训，使技术方案更贴合教学实际需求。</p></li><li><p><strong>利益冲突回避</strong>：在设备选型和供应商选择中，工程师应<strong>严格回避与自身利益相关的决策</strong>，确保技术方案客观公正。职业工程师需签署利益冲突声明，定期披露可能影响专业判断的合作关系。</p></li></ul><p><em>网络工程师在关键场景的职业行为规范</em></p><ul><li><p><strong>隐私设计场景</strong>：默认实施数据最小化采集；用户数据加密存储；定期删除非必要日志</p></li><li><p><strong>紧急响应场景</strong>：建立教育业务连续性预案；核心业务RTO&lt;2小时；定期开展攻防演练</p></li><li><p><strong>技术选型场景</strong>：进行全生命周期成本评估；优先选择开放标准；避免供应商锁定</p></li><li><p><strong>特殊需求场景</strong>：残障学生无障碍访问支持；偏远地区低带宽适配方案</p></li></ul><h2 id="6-重庆教育“一张网”项目案例实证"><a href="#6-重庆教育“一张网”项目案例实证" class="headerlink" title="6 重庆教育“一张网”项目案例实证"></a>6 重庆教育“一张网”项目案例实证</h2><p>重庆教育城域网项目（简称“一张网”工程）是展示网络工程社会化影响的典型案例。该项目于2017年启动一期建设，2023年进入二期升级阶段，其系统性解决方案为同类项目提供了宝贵经验。</p><h3 id="6-1-项目整体架构与技术方案"><a href="#6-1-项目整体架构与技术方案" class="headerlink" title="6.1 项目整体架构与技术方案"></a>6.1 项目整体架构与技术方案</h3><p>项目采用 <strong>“三层架构”</strong> 设计理念，通过统一标准、弹性承载和全局安全三大核心策略，解决资源分散、应用激增和安全防护等关键问题。</p><ul><li><p><strong>市级教育专网层</strong>：采用创新的 <strong>“SDN+SRv6”</strong> 技术构建多业务承载平台，在物理一张网上逻辑隔离出多个虚拟子网，分别承载视频会议、办公OA、渝教云、三个课堂云平台等数十套应用系统。核心节点从6个扩展到8个，新增市教育考试院等关键单位接入，骨干带宽达100Gbps，形成覆盖全市的<strong>教育信息高速公路</strong>。</p></li><li><p><strong>区县城域网层</strong>：实施 <strong>“两网四融合”</strong> 策略：“两网”指5G网络和区级教育专网，“四融合”即固移融合、专网融合、数据融合、身份融合。沙坪坝区项目通过5G切片与光网络切片深度融合，构建<strong>统一身份中台</strong>，实现“一个网络资源中心、一个身份管理中心、一个安全运维中心”的目标。这一架构支持多终端安全接入，教师可通过5G专用切片从校外安全访问内部资源。</p></li><li><p><strong>校园全光网层</strong>：采用<strong>以太全光网技术</strong>推进“光进铜退”改造。重庆广阳湾珊瑚中学案例中，锐捷极简以太全光网方案实现1：1光纤入室，独享万兆带宽；极光交换机提供多速率5G POE电口，优化Wi-Fi 6性能；部署模式实现免配置即插即用，1分钟设备上线。彩光技术的应用解决了传统校园网光纤资源紧张的问题，通过单纤多波提升传输能力。</p></li></ul><p><em>表：重庆“一张网”工程技术方案与社会价值对应关系</em></p><table><thead><tr><th><strong>技术方案</strong></th><th><strong>社会问题解决</strong></th><th><strong>责任实现路径</strong></th><th><strong>应用效果</strong></th></tr></thead><tbody><tr><td><strong>SDN+SRv6多业务承载</strong></td><td>应用孤岛、资源分散</td><td>统一标准、互联互通</td><td>数十套系统并行，38区县资源共享</td></tr><tr><td><strong>5G+教育专网融合</strong></td><td>移动接入安全难</td><td>安全泛在访问</td><td>校外安全接入、移动教学支持</td></tr><tr><td><strong>以太全光网入室</strong></td><td>教室带宽不足</td><td>学习体验保障</td><td>万兆到教室，支持4K&#x2F;VR教学</td></tr><tr><td><strong>统一身份中台</strong></td><td>多系统重复认证</td><td>隐私集中管控</td><td>一次认证、全域通行</td></tr></tbody></table><h3 id="6-2-社会化影响实证评估"><a href="#6-2-社会化影响实证评估" class="headerlink" title="6.2 社会化影响实证评估"></a>6.2 社会化影响实证评估</h3><p>通过对项目实施后的实际效果分析，可客观评价其社会化影响：</p><ul><li><p><strong>教育公平促进效果</strong>：项目连接全市38个区县教育城域网，使69所高校和继续教育机构资源互通。2024年数据显示，<strong>农村学校优质课程获取率</strong>从35%提升至78%，但仍有22%的偏远学校因终端设备不足未能充分受益。跨区县教师网络教研参与率提升至65%，但老年教师参与率不足30%，反映数字素养差异仍是公平瓶颈。</p></li><li><p><strong>安全防护效能</strong>：统一安全资源池建成后，网络安全事件响应时间从平均8小时缩短至2小时以内。内容过滤系统日均阻断不良信息访问请求超12万次，但同时也存在<strong>过度过滤</strong>问题——约5%的教育网站被误判拦截。隐私保护方面，统一身份管理系统将数据泄露风险降低60%，但生物识别技术在校园的大规模应用引发新的伦理争议。</p></li><li><p><strong>教学方式变革</strong>：网络环境改善使<strong>创新教学模式</strong>广泛应用，项目校中85%开展混合式教学，73%实施跨校协作学习。沙坪坝区教师使用网络平台进行学情分析的频率提升40%，但同时也出现了“数据依赖症”——部分教师减少直接师生互动转而依赖数据分析。学生自主学习能力显著提升，但自律性差异导致新的学习分化——自控力强的学生学业进步率是自律不足学生的1.8倍。</p></li></ul><h3 id="6-3-责任践行与持续改进"><a href="#6-3-责任践行与持续改进" class="headerlink" title="6.3 责任践行与持续改进"></a>6.3 责任践行与持续改进</h3><p>重庆项目的责任实践体现了<strong>技术理性</strong>与<strong>价值理性</strong>的平衡：</p><ul><li><p><strong>均衡发展措施</strong>：二期工程专门设立“<strong>边缘节点建设基金</strong>”，优先改善15个偏远区县的网络边缘计算能力。同时启动“<strong>数字素养双提升计划</strong>”，2023年培训农村教师1.2万人次，配套捐赠教学平板5000台。</p></li><li><p><strong>伦理风险管控</strong>：建立<strong>教育AI伦理委员会</strong>，审查学习分析算法的公平性，禁止使用情绪识别等争议技术。在校园监控部署中，遵循“<strong>最小必要</strong>”原则，公共区域监控视频保存不超过15天，教室内部原则上不安装固定监控设备。</p></li><li><p><strong>绿色低碳实践</strong>：全光网改造减少有源设备70%，机房能耗降低35%；采用模块化UPS和冷热通道封闭技术，数据中心PUE值从1.8优化至1.4以下。建立<strong>网络设备循环利用机制</strong>，淘汰设备经检测后捐赠给农村学校或社区教育中心。</p></li></ul><h2 id="7-结论与展望"><a href="#7-结论与展望" class="headerlink" title="7 结论与展望"></a>7 结论与展望</h2><p>教育城域网作为教育数字化转型的关键基础设施，其社会化影响已远超技术范畴。重庆“一张网”工程的实践表明，成功的网络工程项目需要在<strong>技术先进性</strong>与<strong>社会责任担当</strong>之间取得平衡。</p><h3 id="7-1-核心发现"><a href="#7-1-核心发现" class="headerlink" title="7.1 核心发现"></a>7.1 核心发现</h3><ul><li><p><strong>网络工程的社会化本质</strong>：教育城域网建设本质上是一项<strong>社会技术系统工程</strong>，其成败不仅取决于技术创新，更依赖于对社会因素的系统考量。重庆项目通过“市级专网-区县网络-全光校园”的三层架构，实现了技术效率与社会价值的统一。</p></li><li><p><strong>多维度责任平衡</strong>：项目需同时履行<strong>均衡发展责任</strong>（资源公平配置）、<strong>安全责任</strong>（数据与隐私保护）、<strong>伦理责任</strong>（技术人文平衡）和<strong>可持续责任</strong>（绿色低碳运维）。重庆案例中，全光网改造既提升了性能又降低能耗，体现了技术方案的多重价值。</p></li><li><p><strong>工程师角色进化</strong>：网络工程师从单纯技术实施者转变为<strong>社会责任践行者</strong>，需在隐私设计、伦理评估、无障碍访问等维度提升职业素养。重庆项目团队开展的教育业务培训，是技术专家理解社会需求的重要实践。</p></li></ul><h3 id="7-2-未来挑战与发展方向"><a href="#7-2-未来挑战与发展方向" class="headerlink" title="7.2 未来挑战与发展方向"></a>7.2 未来挑战与发展方向</h3><ul><li><p><strong>数字包容深化</strong>：如何突破“最后一公里”障碍，实现从“网络连通”到“价值赋能”的跃升，仍是重大挑战。未来项目需更关注<strong>用户能力建设</strong>和<strong>文化适应性</strong>设计，尤其提升农村教师和老年教师的数字素养。</p></li><li><p><strong>技术伦理框架</strong>：随着AI在教育网络的深度应用，需加快建立<strong>教育技术伦理审查制度</strong>，明确人脸识别、学习分析等技术的应用边界，防止“技术监控”替代教育关怀。</p></li><li><p><strong>绿色低碳创新</strong>：响应“双碳”目标，下一代教育网络应探索<strong>算力-网络联合优化</strong>节能方案，推广模块化数据中心和液冷技术，将PUE降至1.3以下，同时延长设备生命周期。</p></li></ul><p>教育城域网建设不仅是技术升级工程，更是<strong>教育生态重构</strong>的社会进程。未来项目应坚持“<strong>技术服务于人</strong>”的核心原则，在效率与公平、创新与规范、技术进步与人文关怀之间寻求动态平衡，最终构建包容、安全、可持续的智慧教育新生态。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<p>感谢确认。如果你使用的是 <strong>Ubuntu 系统</strong>，那么：</p><hr><h2 id="✅-正确的-SSH-服务名称是：ssh-service"><a href="#✅-正确的-SSH-服务名称是：ssh-service" class="headerlink" title="✅ 正确的 SSH 服务名称是：ssh.service"></a>✅ 正确的 SSH 服务名称是：<code>ssh.service</code></h2><p>所以，你应该能运行以下命令成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl status ssh</span><br></pre></td></tr></table></figure><p>如果这也提示找不到，那说明系统可能<strong>尚未安装 OpenSSH 服务器端</strong>（默认部分 Ubuntu 桌面版本未预装）。</p><hr><h2 id="✅-解决方法：安装-OpenSSH-Server"><a href="#✅-解决方法：安装-OpenSSH-Server" class="headerlink" title="✅ 解决方法：安装 OpenSSH Server"></a>✅ 解决方法：安装 OpenSSH Server</h2><p>请执行以下命令来安装 SSH 服务端：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install openssh-server</span><br></pre></td></tr></table></figure><p>安装完成后，再启动并设置开机自启：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl start ssh</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> ssh</span><br></pre></td></tr></table></figure><p>然后你可以检查状态：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl status ssh</span><br></pre></td></tr></table></figure><hr><h2 id="✅-测试-SSH-登录"><a href="#✅-测试-SSH-登录" class="headerlink" title="✅ 测试 SSH 登录"></a>✅ 测试 SSH 登录</h2><p>在另一台设备或本机测试登录（如果本机已经启用 SSH 并允许登录）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh username@localhost</span><br></pre></td></tr></table></figure><p>或从其他设备连接你的 Ubuntu 机器（假设其 IP 是 192.168.1.100）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh username@192.168.1.100</span><br></pre></td></tr></table></figure><p>如果你想测试失败次数被锁定的情况：</p><ol><li><p><strong>输入错误密码连续三次</strong>；</p></li><li><p>检查脚本日志 <code>/var/log/user_monitor.log</code> 是否有锁定信息；</p></li><li><p>第四次应无法登录；</p></li><li><p>30 分钟后或者你手动运行脚本中解锁逻辑后，尝试登录应强制修改密码。</p></li></ol><hr><p>是否需要我帮你确认 SSH 安装是否成功，或者配置 <code>sshd_config</code>？如果你贴出命令或错误，我可以一步步帮你排查。</p><p>![[Pasted image 20250531171504.png]]</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<p>你可以使用以下方式来通过 SSH 测试该脚本的功能，包括模拟失败登录、封锁账户、自动解锁、成功登录后强制修改密码等流程。</p><hr><h2 id="✅-测试脚本功能的步骤"><a href="#✅-测试脚本功能的步骤" class="headerlink" title="✅ 测试脚本功能的步骤"></a>✅ 测试脚本功能的步骤</h2><h3 id="1-准备测试用户"><a href="#1-准备测试用户" class="headerlink" title="1. 准备测试用户"></a>1. <strong>准备测试用户</strong></h3><p>假设你已有一个普通用户（如 <code>testuser</code>），或者你可以创建一个新的用户来专门用于测试：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> useradd testuser</span><br><span class="line"><span class="built_in">sudo</span> passwd testuser  <span class="comment"># 设置初始密码</span></span><br></pre></td></tr></table></figure><hr><h3 id="2-确认-SSH-服务运行中"><a href="#2-确认-SSH-服务运行中" class="headerlink" title="2. 确认 SSH 服务运行中"></a>2. <strong>确认 SSH 服务运行中</strong></h3><p>确保 SSH 服务已启动并允许登录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl status sshd  <span class="comment"># CentOS/RHEL</span></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl status ssh   <span class="comment"># Debian/Ubuntu</span></span><br></pre></td></tr></table></figure><hr><h3 id="3-从其他终端-设备登录"><a href="#3-从其他终端-设备登录" class="headerlink" title="3. 从其他终端&#x2F;设备登录"></a>3. <strong>从其他终端&#x2F;设备登录</strong></h3><h4 id="✅-使用-ssh-模拟失败登录"><a href="#✅-使用-ssh-模拟失败登录" class="headerlink" title="✅ 使用 ssh 模拟失败登录"></a>✅ 使用 <code>ssh</code> 模拟失败登录</h4><p>你可以在另一台机器（或当前机器使用 127.0.0.1）上尝试输入错误密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh testuser@localhost</span><br><span class="line"><span class="comment"># 输入错误密码，例如连续三次输错</span></span><br></pre></td></tr></table></figure><p>⚠️ 输入错误密码三次后，该脚本应该会：</p><ul><li><p>在日志中记录锁定信息（<code>/var/log/user_monitor.log</code>）</p></li><li><p>使用 <code>usermod -L testuser</code> 锁定账号</p></li><li><p>阻止后续登录</p></li></ul><hr><h3 id="4-验证锁定状态"><a href="#4-验证锁定状态" class="headerlink" title="4. 验证锁定状态"></a>4. <strong>验证锁定状态</strong></h3><p>你可以检查用户是否被锁定：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> passwd -S testuser</span><br><span class="line"><span class="comment"># 输出应包含 &quot;L&quot; 表示 locked</span></span><br></pre></td></tr></table></figure><hr><h3 id="5-等待-30-分钟或手动提前解锁（仅测试用）"><a href="#5-等待-30-分钟或手动提前解锁（仅测试用）" class="headerlink" title="5. 等待 30 分钟或手动提前解锁（仅测试用）"></a>5. <strong>等待 30 分钟或手动提前解锁（仅测试用）</strong></h3><p>如果你不想等 30 分钟，可以手动提前执行解锁命令（模拟时间到期）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> usermod -U testuser</span><br></pre></td></tr></table></figure><p>或者你也可以修改脚本中的 <code>LOCK_TIME=1800</code> 改成 <code>LOCK_TIME=60</code>（即 1 分钟），方便测试。</p><hr><h3 id="6-登录成功并验证密码强制修改"><a href="#6-登录成功并验证密码强制修改" class="headerlink" title="6. 登录成功并验证密码强制修改"></a>6. <strong>登录成功并验证密码强制修改</strong></h3><p>再次使用正确密码尝试登录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh testuser@localhost</span><br><span class="line"><span class="comment"># 若该用户之前被锁定，首次登录后会提示强制修改密码</span></span><br></pre></td></tr></table></figure><p>这时，脚本已执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chage -d 0 testuser</span><br></pre></td></tr></table></figure><p>系统会自动在登录时提示用户更改密码。</p><hr><h2 id="🧪-示例测试命令合集（本机）"><a href="#🧪-示例测试命令合集（本机）" class="headerlink" title="🧪 示例测试命令合集（本机）"></a>🧪 示例测试命令合集（本机）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建测试用户</span></span><br><span class="line"><span class="built_in">sudo</span> useradd testuser</span><br><span class="line"><span class="built_in">sudo</span> passwd testuser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 模拟失败登录</span></span><br><span class="line">ssh testuser@localhost</span><br><span class="line"><span class="comment"># 多次输错密码，达到阈值锁定</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看锁定日志</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cat</span> /var/log/user_monitor.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查用户状态</span></span><br><span class="line"><span class="built_in">sudo</span> passwd -S testuser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等待解锁或手动解锁</span></span><br><span class="line"><span class="built_in">sudo</span> usermod -U testuser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 登录成功后验证强制修改密码</span></span><br><span class="line">ssh testuser@localhost</span><br></pre></td></tr></table></figure><hr><h2 id="📝-提示"><a href="#📝-提示" class="headerlink" title="📝 提示"></a>📝 提示</h2><ul><li><p><strong>从其他主机登录更真实</strong>：如果你在局域网中测试，可以从另一台机器 <code>ssh testuser@&lt;server_ip&gt;</code>。</p></li><li><p><strong>使用 <code>ssh -vvv</code></strong> 调试连接过程可以看到更多详细信息。</p></li></ul><hr><p>如果你希望更高级的测试方式（例如模拟多台客户端、并发失败尝试、或记录多个 IP 等），我可以帮你设计模拟脚本或自动化测试环境。需要吗？</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<p>下面给出一个示例性脚本（Shell 脚本）来实现对用户登录失败次数的检测、账号封锁 30 分钟、记录日志、下次成功登录后提示并强制修改密码等功能。脚本逻辑基于对系统认证日志（如 CentOS&#x2F;RHEL 中的 &#x2F;var&#x2F;log&#x2F;secure、Debian&#x2F;Ubuntu 中的 &#x2F;var&#x2F;log&#x2F;auth.log）进行实时监控来实现。</p><p>本脚本仅作示例，请根据自己系统的具体环境（包括日志路径、Shell 环境、系统发行版差异等）进行相应调整、测试和加固后再投入使用。</p><hr><h2 id="一、脚本功能概述"><a href="#一、脚本功能概述" class="headerlink" title="一、脚本功能概述"></a>一、脚本功能概述</h2><ol><li><p><strong>开机自动运行</strong>：脚本可在后台一直监控认证日志文件。</p></li><li><p><strong>查询系统中的用户状态</strong>：实时跟踪用户的登录失败次数。</p></li><li><p><strong>输入口令错误三次的用户封锁 30 分钟</strong>：当检测到同一用户在同一来源 IP 连续失败 3 次，自动锁定该用户 30 分钟。</p></li><li><p><strong>日志记录</strong>：将锁定用户等信息记录到自定义日志文件（默认 <code>/var/log/user_monitor.log</code>）。</p></li><li><p><strong>强制修改密码</strong>：30 分钟后用户下次成功登录时，脚本检测到该用户曾被锁定，给予提示并强制要求其修改密码（并显示之前的错误登录次数以及 IP）。</p></li><li><p><strong>Root 用户可查看日志</strong>：只有 root 用户可查询脚本记录的日志文件内容。</p></li><li><p><strong>界面良好</strong>：脚本的输出和日志写入均有明确提示，便于查看和维护。</p></li></ol><hr><h2 id="二、脚本内容"><a href="#二、脚本内容" class="headerlink" title="二、脚本内容"></a>二、脚本内容</h2><p>下面给出脚本的示例实现，你可以将其命名为 <code>user_monitor.sh</code>。脚本做了如下假设&#x2F;说明：</p><ul><li><p><strong>日志文件</strong>：对于 CentOS&#x2F;RHEL 系统，脚本默认监控 <code>/var/log/secure</code>；对于 Debian&#x2F;Ubuntu 系统请改为 <code>/var/log/auth.log</code>。</p></li><li><p><strong>锁定方式</strong>：使用 <code>usermod -L &lt;username&gt;</code> 来锁定账号，30 分钟后再自动解锁（或在用户下次成功登录前判断时间是否已到）。</p></li><li><p><strong>强制修改密码</strong>：使用 <code>chage -d 0 &lt;username&gt;</code>，用户下次登录时会被要求修改密码。</p></li><li><p><strong>实时监控</strong>：通过 <code>tail -F</code>（或 <code>tail -fn0</code>）不断监控日志文件的新日志行。</p></li><li><p><strong>后台运行</strong>：可以在开机通过 Systemd service、cron 的 @reboot、或者 &#x2F;etc&#x2F;rc.local 等方式运行。下文会给出示例操作方法。</p></li></ul><p>请根据你的发行版和实际需求进行相应修改。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"><span class="comment">########################################################################</span></span><br><span class="line"><span class="comment"># user_monitor.sh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 功能：</span></span><br><span class="line"><span class="comment">#   1. 实时监控系统认证日志(/var/log/secure 或 /var/log/auth.log)；</span></span><br><span class="line"><span class="comment">#   2. 检测到某用户在同 IP 下连续 3 次登录失败则锁定账号 30 分钟；</span></span><br><span class="line"><span class="comment">#   3. 将锁定信息、解锁信息记录到 /var/log/user_monitor.log；</span></span><br><span class="line"><span class="comment">#   4. 用户下次成功登录时提示其曾发生的失败次数和来源 IP，并强制其修改密码；</span></span><br><span class="line"><span class="comment">#   5. 只有 root 用户可以查看脚本自身的日志信息。</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 注意：该脚本需要 root 权限来执行(锁定用户、修改密码等都需要)。</span></span><br><span class="line"><span class="comment">########################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#=== 配置区域 ===#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 日志监控文件（根据系统自行修改）</span></span><br><span class="line">LOG_FILE=<span class="string">&quot;/var/log/auth.log&quot;</span>  <span class="comment"># CentOS/RHEL 通常使用 /var/log/secure；Debian/Ubuntu 使用 /var/log/auth.log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 脚本自身日志文件</span></span><br><span class="line">SCRIPT_LOG=<span class="string">&quot;/var/log/user_monitor.log&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 失败尝试次数阈值</span></span><br><span class="line">FAILURE_THRESHOLD=3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 封锁时长（单位：秒）</span></span><br><span class="line">LOCK_TIME=1800  <span class="comment"># 30 分钟 = 1800 秒</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#=== 全局关联数组，用于记录用户的失败次数、锁定时间等 ===#</span></span><br><span class="line"><span class="built_in">declare</span> -A fail_count     <span class="comment"># 用于记录 (username@ip -&gt; 失败次数)</span></span><br><span class="line"><span class="built_in">declare</span> -A locked_user    <span class="comment"># 用于记录 (username -&gt; 锁定的时间戳)，若未锁定则为空</span></span><br><span class="line"><span class="built_in">declare</span> -A locked_ip      <span class="comment"># 用于记录 (username -&gt; 上次导致锁定的 IP)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#=== 函数：记录日志到脚本专用日志文件 ===#</span></span><br><span class="line"><span class="function"><span class="title">log_message</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> msg=<span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;[<span class="subst">$(date +&#x27;%F %T&#x27;)</span>] <span class="variable">$msg</span>&quot;</span> | <span class="built_in">tee</span> -a <span class="string">&quot;<span class="variable">$SCRIPT_LOG</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#=== 函数：查询日志（仅 root 可执行）===#</span></span><br><span class="line"><span class="function"><span class="title">view_log</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> [[ $(<span class="built_in">id</span> -u) -ne 0 ]]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;只有 root 用户才能查看日志。&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="comment"># 如果要做分页或者更好的查看方式，可使用 less 等工具</span></span><br><span class="line">    <span class="built_in">cat</span> <span class="string">&quot;<span class="variable">$SCRIPT_LOG</span>&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#=== 函数：检查并解锁超时的用户 ===#</span></span><br><span class="line"><span class="function"><span class="title">check_and_unlock_users</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> current_time</span><br><span class="line">    current_time=$(<span class="built_in">date</span> +%s)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> user <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;!locked_user[@]&#125;</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">local</span> lock_time=<span class="variable">$&#123;locked_user[$user]&#125;</span></span><br><span class="line">        <span class="comment"># 计算已锁定时长</span></span><br><span class="line">        <span class="built_in">local</span> elapsed=$((current_time - lock_time))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (( elapsed &gt;= LOCK_TIME )); <span class="keyword">then</span></span><br><span class="line">            <span class="comment"># 解锁用户</span></span><br><span class="line">            usermod -U <span class="string">&quot;<span class="variable">$user</span>&quot;</span> &amp;&gt;/dev/null</span><br><span class="line">            <span class="built_in">unset</span> locked_user[<span class="string">&quot;<span class="variable">$user</span>&quot;</span>]</span><br><span class="line">            log_message <span class="string">&quot;用户 <span class="variable">$user</span> 已自动解锁（锁定 30 分钟到期）。&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#=== 函数：处理登录失败逻辑 ===#</span></span><br><span class="line"><span class="function"><span class="title">handle_failed_login</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> user=<span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br><span class="line">    <span class="built_in">local</span> ip=<span class="string">&quot;<span class="variable">$2</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 如果该用户已经被锁定，直接返回（锁定状态不累计失败次数）</span></span><br><span class="line">    <span class="keyword">if</span> [[ -n <span class="string">&quot;<span class="variable">$&#123;locked_user[$user]&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">return</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取当前失败次数</span></span><br><span class="line">    <span class="built_in">local</span> key=<span class="string">&quot;<span class="variable">$&#123;user&#125;</span>@<span class="variable">$&#123;ip&#125;</span>&quot;</span></span><br><span class="line">    <span class="built_in">local</span> count=<span class="variable">$&#123;fail_count[$key]:-0&#125;</span></span><br><span class="line">    ((count++))</span><br><span class="line">    fail_count[<span class="variable">$key</span>]=<span class="variable">$count</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (( count &gt;= FAILURE_THRESHOLD )); <span class="keyword">then</span></span><br><span class="line">        <span class="comment"># 锁定用户</span></span><br><span class="line">        usermod -L <span class="string">&quot;<span class="variable">$user</span>&quot;</span> &amp;&gt;/dev/null</span><br><span class="line">        locked_user[<span class="variable">$user</span>]=$(<span class="built_in">date</span> +%s)</span><br><span class="line">        locked_ip[<span class="variable">$user</span>]=<span class="string">&quot;<span class="variable">$ip</span>&quot;</span></span><br><span class="line">        log_message <span class="string">&quot;用户 <span class="variable">$user</span> (IP: <span class="variable">$ip</span>) 因连续失败 <span class="variable">$count</span> 次被锁定 30 分钟。&quot;</span></span><br><span class="line">        <span class="comment"># 可根据需求清空该用户在所有 IP 上的计数</span></span><br><span class="line">        <span class="comment"># for k in &quot;$&#123;!fail_count[@]&#125;&quot;; do</span></span><br><span class="line">        <span class="comment">#     [[ $k == $&#123;user&#125;@* ]] &amp;&amp; unset fail_count[$k]</span></span><br><span class="line">        <span class="comment"># done</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#=== 函数：处理登录成功逻辑 ===#</span></span><br><span class="line"><span class="function"><span class="title">handle_successful_login</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> user=<span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br><span class="line">    <span class="built_in">local</span> ip=<span class="string">&quot;<span class="variable">$2</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 如果用户在 locked_user 中，说明之前曾被锁定</span></span><br><span class="line">    <span class="comment"># 先检查是否已到解锁时间，未到时间则说明此登录不可能成功；已到则自动解锁+提示更改密码</span></span><br><span class="line">    <span class="keyword">if</span> [[ -n <span class="string">&quot;<span class="variable">$&#123;locked_user[$user]&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        <span class="comment"># 检查锁定时长是否已过</span></span><br><span class="line">        check_and_unlock_users</span><br><span class="line">        <span class="comment"># 再次确认是否在锁定中</span></span><br><span class="line">        <span class="keyword">if</span> [[ -n <span class="string">&quot;<span class="variable">$&#123;locked_user[$user]&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">            <span class="comment"># 仍然锁定中，理论上不会出现成功登录</span></span><br><span class="line">            <span class="built_in">return</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 如果可以成功登录，强制修改密码</span></span><br><span class="line">        chage -d 0 <span class="string">&quot;<span class="variable">$user</span>&quot;</span> &amp;&gt;/dev/null</span><br><span class="line">        <span class="comment"># 显示提示信息</span></span><br><span class="line">        <span class="built_in">local</span> last_ip=<span class="string">&quot;<span class="variable">$&#123;locked_ip[$user]&#125;</span>&quot;</span></span><br><span class="line">        <span class="built_in">local</span> key=<span class="string">&quot;<span class="variable">$&#123;user&#125;</span>@<span class="variable">$&#123;last_ip&#125;</span>&quot;</span></span><br><span class="line">        <span class="built_in">local</span> count=<span class="string">&quot;<span class="variable">$&#123;fail_count[$key]:-0&#125;</span>&quot;</span></span><br><span class="line">        <span class="comment"># 登录成功后，给出提示并强制修改密码</span></span><br><span class="line">        log_message <span class="string">&quot;用户 <span class="variable">$user</span> (IP: <span class="variable">$ip</span>) 解锁后首次登录，提示修改密码。&quot;</span></span><br><span class="line">        log_message <span class="string">&quot;用户 <span class="variable">$user</span> 之前的错误登录次数为 <span class="variable">$count</span>，来源 IP: <span class="variable">$last_ip</span>。&quot;</span></span><br><span class="line">        <span class="comment"># 这里也可以让脚本执行 wall 或者写入 motd 等方式在用户登录后显示</span></span><br><span class="line">        <span class="comment"># 清理该用户对应 IP 的计数</span></span><br><span class="line">        <span class="built_in">unset</span> fail_count[<span class="string">&quot;<span class="variable">$key</span>&quot;</span>]</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 针对任意成功登录，重置该IP下的计数</span></span><br><span class="line">    <span class="built_in">local</span> current_key=<span class="string">&quot;<span class="variable">$&#123;user&#125;</span>@<span class="variable">$&#123;ip&#125;</span>&quot;</span></span><br><span class="line">    fail_count[<span class="variable">$current_key</span>]=0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#=== 函数：主循环，实时监控日志文件 ===#</span></span><br><span class="line"><span class="function"><span class="title">monitor_log</span></span>() &#123;</span><br><span class="line">    log_message <span class="string">&quot;启动 user_monitor.sh，开始监控日志：<span class="variable">$LOG_FILE</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># tail -F 会一直跟踪文件</span></span><br><span class="line">    <span class="built_in">tail</span> -F <span class="string">&quot;<span class="variable">$LOG_FILE</span>&quot;</span> | <span class="keyword">while</span> <span class="built_in">read</span> -r line; <span class="keyword">do</span></span><br><span class="line">        <span class="comment"># 定期检查是否有用户锁定已超时需要解锁</span></span><br><span class="line">        check_and_unlock_users</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 下面示例使用的是 CentOS/RHEL 体系下的 /var/log/secure 格式：</span></span><br><span class="line">        <span class="comment"># Mar 10 09:29:14 hostname sshd[12345]: Failed password for testuser from 192.168.1.100 port 56789 ssh2</span></span><br><span class="line">        <span class="comment"># Mar 10 09:29:25 hostname sshd[12345]: Accepted password for testuser from 192.168.1.100 port 56789 ssh2</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># 针对 Debian/Ubuntu，需要匹配 &quot;Failed password for invalid user&quot; 或其他类似日志行</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 判断是否是 &quot;Failed password&quot;</span></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$line</span>&quot;</span> =~ ^.*Failed\ password\ <span class="keyword">for</span>\ (invalid\ user\ )?([a-zA-Z0-9_.-]+)\ from\ ([0-9.]+).* ]]; <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">local</span> user=<span class="string">&quot;<span class="variable">$&#123;BASH_REMATCH[2]&#125;</span>&quot;</span></span><br><span class="line">            <span class="built_in">local</span> ip=<span class="string">&quot;<span class="variable">$&#123;BASH_REMATCH[3]&#125;</span>&quot;</span></span><br><span class="line">            handle_failed_login <span class="string">&quot;<span class="variable">$user</span>&quot;</span> <span class="string">&quot;<span class="variable">$ip</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 判断是否是 &quot;Accepted password&quot;</span></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$line</span>&quot;</span> =~ ^.*Accepted\ password\ <span class="keyword">for</span>\ ([a-zA-Z0-9_.-]+)\ from\ ([0-9.]+).* ]]; <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">local</span> user=<span class="string">&quot;<span class="variable">$&#123;BASH_REMATCH[1]&#125;</span>&quot;</span></span><br><span class="line">            <span class="built_in">local</span> ip=<span class="string">&quot;<span class="variable">$&#123;BASH_REMATCH[2]&#125;</span>&quot;</span></span><br><span class="line">            handle_successful_login <span class="string">&quot;<span class="variable">$user</span>&quot;</span> <span class="string">&quot;<span class="variable">$ip</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#=== 主逻辑 ===#</span></span><br><span class="line"><span class="comment"># 脚本支持的参数：</span></span><br><span class="line"><span class="comment">#   1) start  后台启动监控</span></span><br><span class="line"><span class="comment">#   2) viewlog 查看脚本日志(仅 root)</span></span><br><span class="line"><span class="comment">#   3) help   显示帮助</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">    start)</span><br><span class="line">        <span class="keyword">if</span> [[ $(<span class="built_in">id</span> -u) -ne 0 ]]; <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;错误：请使用 root 权限来运行此脚本。&quot;</span></span><br><span class="line">            <span class="built_in">exit</span> 1</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        monitor_log</span><br><span class="line">        ;;</span><br><span class="line">    viewlog)</span><br><span class="line">        view_log</span><br><span class="line">        ;;</span><br><span class="line">    <span class="built_in">help</span>|--<span class="built_in">help</span>|-h)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;用法：sudo <span class="variable">$0</span> [start|viewlog|help]&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;    start    后台启动或前台运行监控（可自行放后台 &amp;）&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;    viewlog  查看脚本日志（仅 root）&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;    help     显示本帮助&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;参数错误。使用 &#x27;<span class="variable">$0</span> help&#x27; 获取帮助。&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><hr><h2 id="三、使用及部署步骤"><a href="#三、使用及部署步骤" class="headerlink" title="三、使用及部署步骤"></a>三、使用及部署步骤</h2><p>下面以 CentOS&#x2F;RHEL 系列为例，Debian&#x2F;Ubuntu 使用 <code>/var/log/auth.log</code> 的思路相同，仅需修改脚本中 <code>LOG_FILE</code> 值并参考对应的启动方式。</p><ol><li><p><strong>将脚本保存到本地</strong><br> 假设保存为 <code>/usr/local/bin/user_monitor.sh</code>：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vi /usr/local/bin/user_monitor.sh</span><br><span class="line"><span class="comment"># 粘贴上面脚本内容</span></span><br></pre></td></tr></table></figure></li><li><p><strong>赋予执行权限</strong></p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> +x /usr/local/bin/user_monitor.sh</span><br></pre></td></tr></table></figure></li><li><p><strong>（可选）测试运行</strong></p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> /usr/local/bin/user_monitor.sh start</span><br></pre></td></tr></table></figure><p> 此时脚本会前台显示监控信息，你也可以用 <code>&amp;</code> 放到后台，或者新开终端查看脚本日志 <code>/var/log/user_monitor.log</code>。</p></li><li><p><strong>设置开机自动运行</strong></p><ul><li><p><strong>方法 A：Systemd Service</strong>（现代方式）<br>  创建一个 systemd service 配置文件，例如 <code>/etc/systemd/system/user_monitor.service</code>：</p>  <figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=User Monitor Service</span><br><span class="line"><span class="attr">After</span>=network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=simple</span><br><span class="line"><span class="attr">ExecStart</span>=/usr/local/bin/user_monitor.sh start</span><br><span class="line"><span class="attr">Restart</span>=always</span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure><p>  然后启用并启动：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl daemon-reload</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> user_monitor.service</span><br><span class="line"><span class="built_in">sudo</span> systemctl start user_monitor.service</span><br></pre></td></tr></table></figure></li><li><p><strong>方法 B：rc.local</strong>（较旧方式）<br>  编辑 <code>/etc/rc.local</code> 或 <code>/etc/rc.d/rc.local</code>（如果没有则自行创建），在 <code>exit 0</code> 之前添加：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/bin/user_monitor.sh start &amp;</span><br></pre></td></tr></table></figure><p>  确保 <code>/etc/rc.local</code> 有执行权限：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> +x /etc/rc.d/rc.local</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>查看脚本日志</strong><br> 若要查看脚本记录的日志（封锁、解锁等信息），只能使用 root 权限：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> /usr/local/bin/user_monitor.sh viewlog</span><br></pre></td></tr></table></figure><p> 或者直接 <code>cat /var/log/user_monitor.log</code>。</p></li><li><p><strong>测试场景</strong></p><ul><li><p>尝试使用错误密码登录相同用户 3 次，从脚本日志和运行状态可看到该用户被锁定 30 分钟。</p></li><li><p>超过 30 分钟后或者脚本检查到时间到期，会自动解锁。</p></li><li><p>下次该用户成功登录后，脚本会要求更改密码，并把之前的失败次数和来源 IP 显示到日志中。</p></li></ul></li></ol><hr><h2 id="四、注意事项"><a href="#四、注意事项" class="headerlink" title="四、注意事项"></a>四、注意事项</h2><ol><li><p><strong>需要 root 权限</strong><br> 脚本需要执行 <code>usermod -L/-U</code>、<code>chage -d 0</code> 等命令来锁定&#x2F;解锁账号并强制密码修改，均需要 root 权限。</p></li><li><p><strong>日志解析的准确性</strong><br> 不同发行版或不同版本的 SSHD 输出日志格式稍有不同，需在脚本中调整正则匹配以确保能够正确提取用户名和 IP。</p></li><li><p><strong>并发性 &#x2F; 安全性</strong><br> 该脚本仅作示例，未考虑高并发场景下对数组写入&#x2F;读出的锁问题，也未考虑可能的日志分割、日志轮转等情况。在生产环境中，请使用更加完备的工具（如 fail2ban 或自定义的 daemon 进程）并进行充分测试后再使用。</p></li><li><p><strong>操作系统兼容性</strong><br> CentOS&#x2F;RHEL 系列默认在 <code>/var/log/secure</code> 记录 SSH 登录日志，Debian&#x2F;Ubuntu 系列默认在 <code>/var/log/auth.log</code>；若有自定义或其他服务的日志，需要酌情修改脚本中的 <code>LOG_FILE</code>。</p></li></ol><hr><p><strong>至此，你已拥有一个可在 Linux 上通过 Shell 脚本来检测用户非法登录、封锁用户并强制其下次登录时修改密码的示例方案。</strong></p><p>如有更多需求（比如以更加可视化的方式展示、配置白名单、复杂的日志轮转处理等），可以在此脚本基础上拓展或考虑使用专门的安全工具。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<p>第二范式：非主属性完全依赖于候选码<br>![[Pasted image 20250426213750.png]]</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/post/0.html"/>
      <url>/post/0.html</url>
      
        <content type="html"><![CDATA[<h4 id="想读的书"><a href="#想读的书" class="headerlink" title="想读的书"></a>想读的书</h4><h4 id="想做的事"><a href="#想做的事" class="headerlink" title="想做的事"></a>想做的事</h4>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>碎语</title>
      <link href="/post/9beb790c.html"/>
      <url>/post/9beb790c.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;回想起来，也只有周末，不用着急吃完午饭，赶着下午的课。似乎，这样的生活节奏，不太适合一个计算机专业的学生。</p><p>&emsp;&emsp;想提醒自己，就算这是上天给予的馈赠好了，等以后老了，还记得年轻的时候，曾有过很多很多的思想斗争。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 碎语 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库</title>
      <link href="/post/ba725e03.html"/>
      <url>/post/ba725e03.html</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>![[Pasted image 20250608133325.png]]</p><p>完整性<br>![[Pasted image 20250608134422.png]]实体完整性和用户定义完整性的违约处理就是：拒绝<br>但是参照完整性上面四种不同的方法</p><p>![[Pasted image 20250609110601.png]]</p><p>![[Pasted image 20250608135014.png]]</p><p>![[Pasted image 20250608135805.png]]</p><p>![[Pasted image 20250608135857.png]]</p><p>![[Pasted image 20250608140249.png]]</p><p>![[Pasted image 20250608141134.png]]<br>![[Pasted image 20250608141206.png]]</p><p>![[Pasted image 20250608141233.png]]</p><p>![[Pasted image 20250608152311.png]]</p><p>![[Pasted image 20250608153227.png]]<br>3.三种封锁协议<br>![[Pasted image 20250608154603.png]]</p><p>![[Pasted image 20250608155703.png]]</p><p>![[Pasted image 20250608155431.png]]</p><p>![[Pasted image 20250608155350.png]]<br>！！！遵循两段锁协议（2PL），则并发调度策略都是可串行化的。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>背包问题</title>
      <link href="/post/601f947.html"/>
      <url>/post/601f947.html</url>
      
        <content type="html"><![CDATA[<p><strong>dp[i][j] 表示从下标为[0-i]的物品里任意取，放进容量为j的背包，价值总和最大是多少</strong>。</p><p>以上过程，抽象化如下：</p><ul><li><p><strong>不放物品i</strong>：背包容量为j，里面不放物品i的最大价值是dp[i - 1][j]。</p></li><li><p><strong>放物品i</strong>：背包空出物品i的容量后，背包容量为j - weight[i]，dp[i - 1][j - weight[i]] 为背包容量为j - weight[i]且不放物品i的最大价值，那么dp[i - 1][j - weight[i]] + value[i] （物品i的价值），就是背包放物品i得到的最大价值</p></li></ul><p>递归公式： <code>dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);</code></p><h2 id="1-确定dp数组以及下标的含义"><a href="#1-确定dp数组以及下标的含义" class="headerlink" title="1. 确定dp数组以及下标的含义"></a>1. 确定dp数组以及下标的含义</h2><h2 id="2-确定递推公式"><a href="#2-确定递推公式" class="headerlink" title="2. 确定递推公式"></a>2. 确定递推公式</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; weight.<span class="built_in">size</span>(); i++) &#123;  <span class="comment">// 当然这一步，如果把dp数组预先初始化为0了，这一步就可以省略，但很多同学应该没有想清楚这一点。后面先初始化</span></span><br><span class="line">    dp[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 正序遍历</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = weight[<span class="number">0</span>]; j &lt;= bagweight; j++) &#123;</span><br><span class="line">    dp[<span class="number">0</span>][j] = value[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当然，以上有标准库写法</p><h2 id="3-dp数组如何初始化"><a href="#3-dp数组如何初始化" class="headerlink" title="3. dp数组如何初始化"></a>3. dp数组如何初始化</h2><h2 id="4-确定遍历顺序"><a href="#4-确定遍历顺序" class="headerlink" title="4.确定遍历顺序"></a>4.确定遍历顺序</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//weight 数组大小就是物品个数</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;weight.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= bagweight; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(j&lt;weight[i]) dp[i][j]=dp[i<span class="number">-1</span>][j];<span class="comment">//不选第i个物品</span></span><br><span class="line"><span class="keyword">else</span> dp[i][j]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][j],dp[i<span class="number">-1</span>][j-weight[i]]+value[i]);<span class="comment">//选i物品</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="完整"><a href="#完整" class="headerlink" title="完整"></a>完整</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, bagweight;<span class="comment">// bagweight代表行李箱空间</span></span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; n &gt;&gt; bagweight;</span><br><span class="line"></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">weight</span><span class="params">(n, <span class="number">0</span>)</span></span>; <span class="comment">// 存储每件物品所占空间</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">value</span><span class="params">(n, <span class="number">0</span>)</span></span>;  <span class="comment">// 存储每件物品价值</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;<span class="comment">//这里++i和i++好像一样的</span></span><br><span class="line">        cin &gt;&gt; weight[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">        cin &gt;&gt; value[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// dp数组, dp[i][j]代表行李箱空间为j的情况下,从下标为[0, i]的物品里面任意取,能达到的最大价值</span></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(weight.<span class="built_in">size</span>(), <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(bagweight + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化, 因为需要用到dp[i - 1]的值</span></span><br><span class="line">    <span class="comment">// j &lt; weight[0]已在上方被初始化为0</span></span><br><span class="line">    <span class="comment">// j &gt;= weight[0]的值就初始化为value[0]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = weight[<span class="number">0</span>]; j &lt;= bagweight; j++) &#123;<span class="comment">////这里=漏过</span></span><br><span class="line">        dp[<span class="number">0</span>][j] = value[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; weight.<span class="built_in">size</span>(); i++) &#123; <span class="comment">// 遍历科研物品</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt;= bagweight; j++) &#123; <span class="comment">// 遍历行李箱容量</span></span><br><span class="line">            <span class="keyword">if</span> (j &lt; weight[i]) dp[i][j] = dp[i - <span class="number">1</span>][j]; <span class="comment">// 如果装不下这个物品,那么就继承dp[i - 1][j]的值</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                dp[i][j] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][j], dp[i - <span class="number">1</span>][j - weight[i]] + value[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[n - <span class="number">1</span>][bagweight] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用滚动数组（一维数组）"><a href="#使用滚动数组（一维数组）" class="headerlink" title="使用滚动数组（一维数组）"></a>使用滚动数组（一维数组）</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一维dp数组实现</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 读取 M 和 N</span></span><br><span class="line">    <span class="type">int</span> M, N;</span><br><span class="line">    cin &gt;&gt; M &gt;&gt; N;</span><br><span class="line"></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">costs</span><span class="params">(M)</span></span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">values</span><span class="params">(N)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">        cin &gt;&gt; costs[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; M; j++) &#123;</span><br><span class="line">        cin &gt;&gt; values[j];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建一个动态规划数组dp，初始值为0</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(N + <span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 外层循环遍历每个类型的研究材料</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M; ++i) &#123;</span><br><span class="line">        <span class="comment">// 内层循环从 N 空间逐渐减少到当前研究材料所占空间</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = N; j &gt;= costs[i]; --j) &#123;</span><br><span class="line">            <span class="comment">// 考虑当前研究材料选择和不选择的情况，选择最大值</span></span><br><span class="line">            <span class="comment">//！如果背包容量能装下当前物品，那么在内层循环中加入，如果不够，那么就跳出内层循环，即为不选该物品</span></span><br><span class="line">            dp[j] = <span class="built_in">max</span>(dp[j], dp[j - costs[i]] + values[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输出dp[N]，即在给定 N 行李空间可以携带的研究材料最大价值</span></span><br><span class="line">    cout &lt;&lt; dp[N] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意,dp数组右下角的值不一定表示背包装满,而是表示能装的价值最大</p>]]></content>
      
      
      
        <tags>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/post/4a17b156.html"/>
      <url>/post/4a17b156.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
